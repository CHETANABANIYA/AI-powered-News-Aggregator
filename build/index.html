<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>AI-Powered News Aggregator</title><link rel="icon" href="favicon.ico" type="image/x-icon"><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&amp;family=Roboto:wght@300;400;500&amp;display=swap" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"><style>body{font-family:Roboto,sans-serif;background:#f4f7f6;margin:0;padding:0}.navbar{background:#222;padding:15px 20px;box-shadow:0 6px 10px rgba(0,0,0,.4);position:sticky;top:0;z-index:1000;transition:background .3s ease}.navbar:hover{background:#333}.navbar-brand{font-family:Montserrat,sans-serif;font-weight:700;font-size:2rem;color:#ff6f61;transition:transform .3s ease}.navbar-brand:hover{transform:scale(1.1)}.nav-link{color:#fff;margin:0 10px;font-weight:500;transition:color .3s ease,transform .3s ease}.nav-link:hover{color:#ff6f61;transform:translateY(-3px)}.hero-section{background:linear-gradient(135deg,#ff6f61,#feac5e);color:#fff;padding:80px 20px;text-align:center;box-shadow:inset 0 -6px 12px rgba(0,0,0,.3);animation:fadeIn 1s ease-in-out}@keyframes fadeIn{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.hero-section h1{font-family:Montserrat,sans-serif;font-size:3rem;font-weight:700;letter-spacing:1px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.hero-section p{font-size:1.2rem;margin:20px 0;opacity:.9}.search-bar{margin:30px 0;display:flex;justify-content:center;gap:10px}.search-bar input{width:60%;padding:12px;border-radius:25px;border:1px solid #ddd;outline:0;box-shadow:0 4px 6px rgba(0,0,0,.1);transition:all .3s ease}.search-bar input:focus{border-color:#ff6f61;box-shadow:0 0 12px rgba(255,111,97,.7)}.search-bar button{padding:12px 20px;border-radius:25px;border:none;background:#ff6f61;color:#fff;font-weight:700;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,.2);transition:background .3s ease,transform .3s ease}.search-bar button:hover{background:#feac5e;transform:translateY(-3px)}.carousel-inner img{height:500px;object-fit:cover}.news-options{padding:50px 20px}.news-options h2{text-align:center;margin-bottom:30px;font-family:Montserrat,sans-serif;font-weight:700;color:#333}.news-card{border:none;border-radius:15px;box-shadow:0 6px 12px rgba(0,0,0,.1);transition:transform .3s ease-in-out}.news-card:hover{transform:scale(1.05)}.news-card img{border-top-left-radius:15px;border-top-right-radius:15px;height:200px;object-fit:cover}.news-card .card-body{padding:15px;background:#fff;border-bottom-left-radius:15px;border-bottom-right-radius:15px}.news-card-title{font-family:Montserrat,sans-serif;font-weight:600;font-size:1.1rem;color:#333;margin-bottom:10px}.news-card-text{font-size:.95rem;color:#666}.subscription-section{background:#ff6f61;color:#fff;padding:50px 20px;text-align:center}.subscription-section h2{font-family:Montserrat,sans-serif;font-weight:700;margin-bottom:20px}.subscription-form{display:flex;justify-content:center;gap:10px}.subscription-form input[type=email]{width:50%;padding:12px;border-radius:25px;border:none;font-size:1rem;outline:0}.subscription-form button{padding:12px 25px;border-radius:25px;border:none;background:#333;color:#fff;font-weight:700;cursor:pointer}.subscription-form button:hover{background:#444}select#country-selector.form-select{background:#fff;color:#333;border:1px solid #ddd;border-radius:25px;padding:12px 20px;font-size:1rem;cursor:pointer;outline:0;width:140px;box-shadow:0 4px 10px rgba(0,0,0,.15);transition:all .3s ease}select#country-selector.form-select:hover{box-shadow:0 6px 14px rgba(0,0,0,.2);border-color:#ff6f61}select#country-selector.form-select:focus{box-shadow:0 0 14px rgba(255,111,97,.6);border-color:#ff6f61;background-color:#f9f9f9}.form-select{background:#fff;border-radius:25px;padding:8px 12px}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.footer{background:#222;color:#fff;padding:20px;text-align:center;box-shadow:0 -4px 6px rgba(0,0,0,.3)}.footer a{color:#ff6f61;text-decoration:none}.footer a:hover{text-decoration:underline}#searchResults{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px}.news-card{background:#fff;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,.2);overflow:hidden;transition:transform .3s ease-in-out}.news-card:hover{transform:translateY(-5px)}.news-image{width:100%;height:180px;object-fit:cover}.news-content{padding:15px}.news-content h3 a{color:#333;text-decoration:none;font-size:18px;font-weight:700}.news-content h3 a:hover{color:#007bff}.news-meta{font-size:12px;color:#666;margin-top:10px}</style><script defer="defer" src="/CHETANABANIYA/ai-news-aggregator/static/js/main.91ad1dea.js"></script><link href="/CHETANABANIYA/ai-news-aggregator/static/css/main.129eaba5.css" rel="stylesheet"></head><body><nav class="navbar navbar-expand-lg"><div class="container"><a class="navbar-brand" href="#">NewsSphere</a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav ms-auto"><li class="nav-item"><a class="nav-link" href="index.html">Home</a></li><li class="nav-item"><a class="nav-link" href="Categories.html">Categories</a></li><li class="nav-item"><a class="nav-link" href="Contact.html">Contact</a></li><li class="nav-item"><a class="nav-link" href="login.html">Login</a></li><li class="nav-item"><select id="country-selector" class="form-select bg-dark text-light border-0"><optgroup label="ğŸŒ North America"><option value="us">ğŸ‡ºğŸ‡¸ US</option><option value="ca">ğŸ‡¨ğŸ‡¦ Canada</option><option value="mx">ğŸ‡²ğŸ‡½ Mexico</option></optgroup><optgroup label="ğŸŒ Europe"><option value="gb">ğŸ‡¬ğŸ‡§ UK</option><option value="de">ğŸ‡©ğŸ‡ª Germany</option><option value="fr">ğŸ‡«ğŸ‡· France</option><option value="it">ğŸ‡®ğŸ‡¹ Italy</option><option value="es">ğŸ‡ªğŸ‡¸ Spain</option><option value="se">ğŸ‡¸ğŸ‡ª Sweden</option><option value="ch">ğŸ‡¨ğŸ‡­ Switzerland</option><option value="nl">ğŸ‡³ğŸ‡± Netherlands</option></optgroup><optgroup label="ğŸŒ Asia"><option value="in">ğŸ‡®ğŸ‡³ India</option><option value="jp">ğŸ‡¯ğŸ‡µ Japan</option><option value="cn">ğŸ‡¨ğŸ‡³ China</option><option value="kr">ğŸ‡°ğŸ‡· South Korea</option><option value="id">ğŸ‡®ğŸ‡© Indonesia</option><option value="sa">ğŸ‡¸ğŸ‡¦ Saudi Arabia</option><option value="sg">ğŸ‡¸ğŸ‡¬ Singapore</option></optgroup><optgroup label="ğŸŒ Other"><option value="br">ğŸ‡§ğŸ‡· Brazil</option><option value="ae">ğŸ‡¦ğŸ‡ª UAE</option><option value="ru">ğŸ‡·ğŸ‡º Russia</option><option value="za">ğŸ‡¿ğŸ‡¦ South Africa</option><option value="ar">ğŸ‡¦ğŸ‡· Argentina</option><option value="au">ğŸ‡¦ğŸ‡º Australia</option></optgroup></select></li><li class="nav-item d-flex align-items-center"><label for="language-selector" class="me-2 text-white fw-bold">ğŸŒ</label> <select id="language-selector" class="form-select form-select-sm bg-dark text-light border-0"><option value="en">ğŸ‡¬ğŸ‡§ English</option><option value="fr">ğŸ‡«ğŸ‡· French</option><option value="es">ğŸ‡ªğŸ‡¸ Spanish</option><option value="hi">ğŸ‡®ğŸ‡³ Hindi</option><option value="ja">ğŸ‡¯ğŸ‡µ Japanese</option><option value="de">ğŸ‡©ğŸ‡ª German</option><option value="ru">ğŸ‡·ğŸ‡º Russian</option><option value="zh">ğŸ‡¨ğŸ‡³ Chinese</option></select></li></ul></div></div></nav><section class="hero-section"><h1>AI-Powered News Aggregator</h1><p>Your one-stop platform for curated, real-time news updates.</p><div class="search-bar"><input id="searchInput" placeholder="Search for news..."> <button type="button" id="searchButton">Search</button></div></section><div id="searchResults"></div><div id="newsCarousel" class="carousel slide" data-bs-ride="carousel"><div class="carousel-inner" id="carousel-news-container"></div><a class="carousel-control-prev" href="#newsCarousel" role="button" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span> </a><a class="carousel-control-next" href="#newsCarousel" role="button" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span></a></div><section class="news-options"><h2>Explore News by Category</h2><div class="container"><div class="row" id="category-news-container"></div></div></section><script>document.addEventListener('DOMContentLoaded', () => {
    const categories = ['sports', 'entertainment', 'technology', 'business', 'stockmarket', 'health'];
    const newsContainer = document.querySelector('#category-news-container');
    const carouselContainer = document.querySelector('#carousel-news-container');
    const countrySelector = document.querySelector('#country-selector');
    const languageSelector = document.querySelector('#language-selector');
    const API_BASE_URL = "https://ai-powered-news-aggregator-backend.onrender.com";


    let selectedCountry = localStorage.getItem("selectedCountry") || "us"; // Default country
    let selectedLanguage = localStorage.getItem("selectedLanguage") || "en"; // Default language

    countrySelector.value = selectedCountry;
    languageSelector.value = selectedLanguage;

    const API_BASE_URL = window.location.hostname === "localhost"
      ? "http://localhost:5000/api"
        : "https://ai-powered-news-aggregator-backend.onrender.com/api"; // âœ… Updated backend URL

    async function fetchNewsByCategory() {
      newsContainer.innerHTML = '<p>Loading news...</p>';

      try {
        newsContainer.innerHTML = ''; // Clear previous news

        for (const category of categories) {
          const categoryRow = document.createElement('div');
          categoryRow.classList.add('col-md-4', 'mb-4');

          const apiUrl = `${API_BASE_URL}/news?category=${category}&country=${selectedCountry}&language=${selectedLanguage}`;
          const response = await fetch(apiUrl);
          const data = await response.json();

          if (data.articles && data.articles.length > 0) {
            categoryRow.innerHTML = `
              <div class="card news-card">
                <img src="${data.articles[0].image}" alt="${category}" class="card-img-top">
                <div class="card-body">
                  <h5 class="news-card-title">${category.charAt(0).toUpperCase() + category.slice(1)}</h5>
                  <ul class="news-list">
                    ${data.articles.slice(0, 3).map(article => `
                      <li>
                        <h6>${article.title}</h6>
                        <p>${article.description || 'No description available'}</p>
                        <a href="${article.url}" target="_blank" class="btn btn-primary">Read More</a>
                      </li>
                    `).join('')}
                  </ul>
                </div>
              </div>
            `;
          } else {
            categoryRow.innerHTML = `<p>No news available in ${category}.</p>`;
          }

          newsContainer.appendChild(categoryRow);
        }
      } catch (error) {
        console.error('Error fetching news:', error);
        newsContainer.innerHTML = '<p>Error loading news.</p>';
      }
    }

    async function fetchCarouselNews() {
      carouselContainer.innerHTML = '<p>Loading news...</p>';

      try {
        const response = await fetch(`${API_BASE_URL}/news?category=general&country=${selectedCountry}&language=${selectedLanguage}`);
        const data = await response.json();
        carouselContainer.innerHTML = ''; // Clear previous news

        if (data.articles && data.articles.length > 0) {
          data.articles.slice(0, 5).forEach((article, index) => {
            const isActive = index === 0 ? 'active' : '';

            const carouselItemHTML = `
              <div class="carousel-item ${isActive}">
                <img src="${article.image}" class="d-block w-100" alt="${article.title}">
                <div class="carousel-caption d-none d-md-block">
                  <h5>${article.title}</h5>
                  <p>${article.description || 'No description available'}</p>
                  <a href="${article.url}" target="_blank" class="btn btn-primary">Read More</a>
                </div>
              </div>
            `;
            carouselContainer.insertAdjacentHTML('beforeend', carouselItemHTML);
          });
        } else {
          carouselContainer.innerHTML = '<p>No news available for the carousel.</p>';
        }
      } catch (error) {
        console.error('Error fetching carousel news:', error);
        carouselContainer.innerHTML = '<p>Error loading carousel news.</p>';
      }
    }

    function fetchAllNews() {
      fetchNewsByCategory();
      fetchCarouselNews();
    }

    // Event Listeners for Country & Language Selection
    countrySelector.addEventListener("change", () => {
      selectedCountry = countrySelector.value;
      localStorage.setItem("selectedCountry", selectedCountry);
      fetchAllNews();
    });

    languageSelector.addEventListener("change", () => {
      selectedLanguage = languageSelector.value;
      localStorage.setItem("selectedLanguage", selectedLanguage);
      fetchAllNews();
    });

    // Fetch news on page load
    fetchAllNews();
  });</script><section class="subscription-section"><h2>Subscribe to Our Daily News Feed</h2><div class="subscription-form"><input type="email" id="email-input" placeholder="Enter your email address" required> <button type="button" onclick="subscribeUser()">Subscribe</button></div><p id="subscription-message"></p></section><script>function subscribeUser(){const e=document.getElementById("email-input").value,t=document.getElementById("subscription-message");e.includes("@")?fetch("https://your-render-backend.onrender.com/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((e=>{t.textContent=e.message||"Subscription successful!",document.getElementById("email-input").value=""})).catch((e=>{console.error("Error subscribing:",e),t.textContent="Subscription failed. Try again!"})):t.textContent="Please enter a valid email address!"}</script><footer class="footer"><p>Â© 2025 NewsSphere | <a href="terms-of-service.html">Terms of Service</a> | <a href="privacy-policy.html">Privacy Policy</a></p></footer><script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script></body></html><script>let isFetching = false; // Flag to prevent duplicate requests

async function fetchNews(country, language) {
    if (isFetching) return; // Prevent duplicate requests
    isFetching = true;

    try {
        const response = await fetch(`https://your-render-backend.onrender.com/api/news?country=${country}&language=${language}`);

        const data = await response.json();
        displayNews(data);
    } catch (error) {
        console.error("Error fetching news:", error);
    } finally {
        isFetching = false; // Reset flag after fetch completes
    }
}

const API_BASE_URL =
    window.location.hostname === "localhost"
        ? "http://localhost:5000/api"
        : "https://ai-powered-news-aggregator-backend.onrender.com/api"; // âœ… Updated backend URL

async function fetchNews(country, language) {
    if (isFetching) return;
    isFetching = true;

    try {
        const response = await fetch(`${API_BASE_URL}/news?country=${country}&language=${language}`);
        const data = await response.json();
        displayNews(data);
    } catch (error) {
        console.error("Error fetching news:", error);
    } finally {
        isFetching = false;
    }
}



      const response = await fetch(apiUrl);
      const data = await response.json();

      // âœ… Check for Articles
      if (data.articles && data.articles.length > 0) {
        const categoryHTML = `
          <div class="card news-card">
            <img src="${data.articles[0].image}" alt="${category}" class="card-img-top">
            <div class="card-body">
              <h5 class="news-card-title">${category.charAt(0).toUpperCase() + category.slice(1)}</h5>
              <ul class="news-list">
                ${data.articles.slice(0, 3).map(article => `
                  <li>
                    <h6>${article.title}</h6>
                    <p>${article.description || 'No description available'}</p>
                    <a href="${article.url}" target="_blank" class="btn btn-primary">Read More</a>
                  </li>
                `).join('')}
              </ul>
            </div>
          </div>
        `;
        categoryRow.innerHTML = categoryHTML;
        newsContainer.appendChild(categoryRow);
      } else {
        categoryRow.innerHTML = `<p>No news available in ${category}.</p>`;
        newsContainer.appendChild(categoryRow);
      }
    } // âœ… Properly closed the `for` loop
    } catch (error) {
        console.error("Error fetching news:", error);
        document.getElementById("news-container").innerHTML = `<p class="text-center text-danger">Failed to load news.</p>`;
    }
}
});</script><script>document.addEventListener("DOMContentLoaded",(async()=>{const e=document.querySelector("#carousel-news-container");try{const n=await fetch("https://ai-powered-news-aggregator-backend.onrender.com/api/news?category=general"),a=await n.json();e.innerHTML="",a.articles&&a.articles.length>0?a.articles.slice(0,5).forEach(((n,a)=>{const r=`\n            <div class="carousel-item ${0===a?"active":""}">\n              <img src="${n.image}" class="d-block w-100" alt="${n.title}">\n              <div class="carousel-caption d-none d-md-block">\n                <h5>${n.title}</h5>\n                <p>${n.description||"No description available"}</p>\n                <a href="${n.url}" target="_blank" class="btn btn-primary">Read More</a>\n              </div>\n            </div>\n          `;e.insertAdjacentHTML("beforeend",r)})):e.innerHTML="<p>No news available for the carousel.</p>"}catch(n){console.error("Error fetching carousel news:",n),e.innerHTML="<p>Error loading news for the carousel.</p>"}}))</script><script>const apiKey="c8f7bbd1aa7b4719ae619139984f2b08",newsContainer=document.getElementById("news-container"),countrySelector=document.getElementById("country-selector"),languageSelector=document.getElementById("language-selector"),API_BASE_URL="https://ai-powered-news-aggregator-backend.onrender.com";async function fetchNews(e,t){document.getElementById("country-selector").addEventListener("change",(function(){localStorage.setItem("selectedCountry",this.value),fetchNews(this.value,document.getElementById("language-selector").value)})),document.getElementById("language-selector").addEventListener("change",(function(){localStorage.setItem("selectedLanguage",this.value),fetchNews(document.getElementById("country-selector").value,this.value)}));try{const n=await fetch(`${API_BASE_URL}/news?country=${e}&language=${t}&category=${category}`),a=await n.text();console.log("Raw API Response:",a);displayNews(JSON.parse(a).articles)}catch(e){console.error("Error fetching news:",e),document.getElementById("news-container").innerHTML='<p class="text-center text-danger">Failed to load news.</p>'}}function displayNews(e){newsContainer.innerHTML="",e.forEach((e=>{const t=`\n        <div class="col-md-4">\n          <div class="card news-card">\n            <img src="${e.image}" class="card-img-top" alt="News Image">\n            <div class="card-body">\n              <h5 class="news-card-title">${e.title}</h5>\n              <p class="news-card-text">${e.description||"No description available."}</p>\n              <a href="${e.url}" class="btn btn-primary" target="_blank">Read More</a>\n            </div>\n          </div>\n        </div>\n      `;newsContainer.innerHTML+=t}))}countrySelector.addEventListener("change",(()=>{fetchNews(country-selector.value,language-selector.value)})),languageSelector.addEventListener("change",(()=>{fetchNews(country-selector.value,language-selector.value)})),window.onload=function(){let e=localStorage.getItem("selectedCountry")||"us",t=localStorage.getItem("selectedLanguage")||"en";document.getElementById("country-selector").value=e,document.getElementById("language-selector").value=t,fetchNews(e,t)}</script><script>function displayResults(e){const n=document.getElementById("searchResults");n.innerHTML="",0!==e.length?e.forEach((e=>{const t=document.createElement("div");t.classList.add("news-card"),t.innerHTML=`\n      <img src="${e.urlToImage||"https://via.placeholder.com/300"}" alt="News Image" class="news-image">  \x3c!-- âœ… Styled Image --\x3e\n      <div class="news-content">\n        <h3><a href="${e.url}" target="_blank">${e.title}</a></h3>\n        <p>${e.description||"No description available."}</p>\n        <p class="news-meta"><strong>Source:</strong> ${e.source?.name||"Unknown"} | <strong>Published At:</strong> ${new Date(e.publishedAt).toLocaleString()}</p>\n      </div>\n    `,n.appendChild(t)})):n.innerHTML="<p>No results found.</p>"}document.getElementById("searchButton").addEventListener("click",(async function(){const e=document.getElementById("searchInput").value.trim();if(e){console.log(`ğŸ” Searching for: ${e}`);try{const n=await fetch(`https://ai-powered-news-aggregator-backend.onrender.com/api/search?query=${encodeURIComponent(e)}`),t=await n.json();console.log(`âœ… Found ${t.articles.length} results`),displayResults(t.articles)}catch(e){console.error("âŒ Error fetching search results:",e),alert("Error fetching search results. Please try again.")}}else alert("Please enter a search term!")}))</script>